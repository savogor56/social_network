(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[0],{18:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},r=function(e){if(!e)return"Required"},o=function(e){return function(t){if(t&&t.length<e)return"Min length is ".concat(e)}},i=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e)}}},19:function(e,t,n){e.exports=n.p+"static/media/default_avatar.edcd29e7.jpg"},21:function(e,t,n){e.exports={user_info:"ProfileInfo_user_info__31I9g",main_info:"ProfileInfo_main_info__vDqc8",sub_info:"ProfileInfo_sub_info__bdbzc",contacts:"ProfileInfo_contacts__3X4y4",avatar:"ProfileInfo_avatar__3VHnJ",about:"ProfileInfo_about__1rd7O"}},23:function(e,t,n){e.exports={login_form_wrap:"Login_login_form_wrap__133Tp",login_form:"Login_login_form__UA8uL",title:"Login_title__RwtHi",input_wrap:"Login_input_wrap__3RaJ8",error:"Login_error__1tQPS"}},25:function(e,t,n){e.exports={user:"User_user__3MINT",user_follow:"User_user_follow__1l7z7",user_info:"User_user_info__2x1Ew",description:"User_description__mFVLh",status:"User_status__3LB5P"}},26:function(e,t,n){e.exports={header:"Header_header__1MrFI",title:"Header_title__IYDaa",info_block:"Header_info_block__1Z3gk",login_block:"Header_login_block__1UqFO",user_info:"Header_user_info__3tDIL"}},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(0),r=n.n(a),o=n(43),i=n.n(o),s=function(e){var t=e.meta,n=e.className,a=e.children,o=(t.error||t.submitError)&&t.touched;return r.a.createElement("div",{className:"".concat(n," ").concat(i.a.form_control," ").concat(o&&i.a.error)},a,o&&r.a.createElement("span",null,t.error||t.submitError))},c=function(e){var t=e.input,n=e.placeholder;return r.a.createElement(s,e,r.a.createElement("textarea",Object.assign({},t,{placeholder:n})))},u=function(e){var t=e.input,n=e.placeholder;return r.a.createElement(s,e,r.a.createElement("label",null,n),r.a.createElement("input",Object.assign({},t,{placeholder:n})))}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(12),r=n(13),o=n(15),i=n(14),s=n(0),c=n.n(s),u=n(5),l=n(7),f=function(e){var t=function(t){Object(o.a)(s,t);var n=Object(i.a)(s);function s(){return Object(a.a)(this,s),n.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(u.a,{to:"/login"})}}]),s}(c.a.Component);return Object(l.b)((function(e){return{isAuth:e.auth.isAuth}}))(t)}},35:function(e,t,n){e.exports={item:"Post_item__329Oe",message:"Post_message__2g3Xy"}},36:function(e,t,n){e.exports={friends_wrapper:"Friends_friends_wrapper__1PKhy",friend:"Friends_friend__3XRoT",friends:"Friends_friends__2QQfr"}},41:function(e,t,n){e.exports={pagination:"Paginator_pagination__249c_",selected:"Paginator_selected__2jpeC"}},42:function(e,t,n){e.exports={form:"FormAddsPost_form__mnbpn",input_wrap:"FormAddsPost_input_wrap__1_hlz"}},43:function(e,t,n){e.exports={form_control:"FormsControl_form_control__1h00-",error:"FormsControl_error__2akA_"}},44:function(e,t,n){e.exports={aside:"Aside_aside__3VVbC",menu:"Aside_menu__1SHKT"}},45:function(e,t,n){e.exports={item:"MenuItem_item__uCLA7",active:"MenuItem_active__2R8bw"}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(22),r=n(2),o={dialogsData:[{name:"Andrey",avatar:{id:3,name:"Andrey",avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRvO35OFDvH2fHI947iBUePk-f2MyDsjVr-Tw&usqp=CAU",email:"Andru1488@mail.ru",description:"Its Andrey"}.avatar,id:1},{name:"Pasha",avatar:{id:2,name:"Pasha",avatar:"https://www.meme-arsenal.com/memes/b5d2ec8e1ffa887b239fb66a8653dfe6.jpg",email:"Paul345@mail.ru",description:"Its Pasha"}.avatar,id:2},{name:"Ivan",avatar:{id:4,name:"Ivan",avatar:"https://i.pinimg.com/originals/0c/a9/e2/0ca9e28dcb12dc698cfd2beda6d6fa64.jpg",email:"Ivaness@mail.ru",description:"Its Ivan"}.avatar,id:3}],messagesData:[{id:1,text:"Hi"},{id:2,text:"what's up man?"},{id:3,text:"By"}]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var n={id:e.messagesData[e.messagesData.length-1].id+1,text:t.newMessage};return Object(r.a)(Object(r.a)({},e),{},{messagesData:[].concat(Object(a.a)(e.messagesData),[n])});default:return e}},s=function(e){return{type:"SEND_MESSAGE",newMessage:e}}},58:function(e,t,n){e.exports={users:"Users_users__EKbbw"}},59:function(e,t,n){e.exports={lds_ripple:"Preloader_lds_ripple__Q0YDP","lds-ripple":"Preloader_lds-ripple__3o4dp"}},62:function(e,t,n){e.exports=n.p+"static/media/find_work.4ab860b2.jpg"},63:function(e,t,n){e.exports={status:"ProfileStatus_status__1872N"}},64:function(e,t,n){e.exports={posts:"Posts_posts__37As-"}},65:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},68:function(e,t,n){e.exports=n(98)},73:function(e,t,n){},74:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(31),i=n.n(o),s=(n(73),n(12)),c=n(13),u=n(15),l=n(14),f=(n(74),n(5)),m=n(7),p=n(67),d=n(58),g=n.n(d),b=n(25),_=n.n(b),v=n(19),h=n.n(v),E=n(11),w=function(e){var t=e.user,n=e.follow,a=e.unfollow,o=e.followingInProgress,i=e.toggleIsFollowing,s=t.photos.small;return r.a.createElement("div",{className:_.a.user},r.a.createElement("div",{className:_.a.user_follow},r.a.createElement(E.b,{to:"/profile/".concat(t.id)},r.a.createElement("img",{src:s||h.a,alt:""})),r.a.createElement("button",{disabled:o.some((function(e){return e===t.id})),onClick:function(){i(!0,t.id),t.followed?a(t.followed,t.id):n(t.followed,t.id)}},t.followed?"unfollow":"follow")),r.a.createElement("div",{className:_.a.user_info},r.a.createElement("div",{className:_.a.description},r.a.createElement("span",null,t.name)),r.a.createElement("div",{className:_.a.status},r.a.createElement("span",null,t.status))))},O=n(59),P=n.n(O),j=function(){return r.a.createElement("div",{className:P.a.lds_ripple},r.a.createElement("div",null),r.a.createElement("div",null))},k=n(30),S=n(41),y=n.n(S),I=function(e){for(var t=e.totalItemsCount,n=e.pageSize,o=e.currentPage,i=e.changePage,s=e.portionSize,c=e.currentPortion,u=Math.ceil(t/n),l=[],f=1;f<=u;f++)l.push(f);var m=Math.ceil(u/s),p=Object(a.useState)(c),d=Object(k.a)(p,2),g=d[0],b=d[1],_=(g-1)*s+1,v=g*s;return r.a.createElement("div",{className:y.a.pagination},g>1&&r.a.createElement("button",{onClick:function(){b(g-1)}},"<<"),l.filter((function(e){return e>=_&&e<=v})).map((function(e){return r.a.createElement("button",{key:e,onClick:function(){i(e,g)},className:o===e?y.a.selected:""},e)})),m>g&&r.a.createElement("button",{onClick:function(){b(g+1)}},">>"))},x=function(e){var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,o=e.changePage,i=e.users,s=e.portionSize,c=e.currentPortion,u=e.changePortion,l=Object(p.a)(e,["totalUsersCount","pageSize","currentPage","changePage","users","portionSize","currentPortion","changePortion"]),f=i.map((function(e){return r.a.createElement(w,Object.assign({key:e.id,user:e},l))}));return r.a.createElement("section",{className:g.a.users},l.isFetching&&r.a.createElement(j,null),f,r.a.createElement(I,{totalItemsCount:t,pageSize:n,currentPage:a,changePage:o,changePortion:u,portionSize:s,currentPortion:c}))},N=n(3),C=n.n(N),A=n(4),F=n(22),D=n(2),T=n(60).create({withCredentials:!0,headers:{"API-KEY":"2ae6c6ef-750a-4f6e-8e84-8c2e03bc5e97"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),L={getUsers:function(){var e=arguments;return Object(A.a)(C.a.mark((function t(){var n,a,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,a=e.length>1&&void 0!==e[1]?e[1]:5,t.next=4,T.get("users?count=".concat(a,"&page=").concat(n));case 4:return r=t.sent,t.abrupt("return",r.data);case 6:case"end":return t.stop()}}),t)})))()},follow:function(e){return Object(A.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.post("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},unfollow:function(e){return Object(A.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.delete("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},U=function(){var e=arguments;return Object(A.a)(C.a.mark((function t(){var n,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:2,t.next=3,T.get("profile/".concat(n));case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})))()},M=function(e){return Object(A.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.get("profile/status/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},G=function(e){return Object(A.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.put("profile/status",{status:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},R=function(){return T.get("auth/me")},z=function(e,t,n){return T.post("auth/login",{email:e,password:t,rememberMe:n})},H=function(){return T.delete("auth/login")},q=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(D.a)(Object(D.a)({},e),a):e}))},J="social_network/users/TOGGLE_FOLLOWED",B="social_network/users/SET_USERS",V="social_network/users/SET_CURRENT_PAGE",X="social_network/users/SET_CURRENT_PORTION",W="social_network/users/TOGGLE_IS_FETCHING",K="social_network/users/TOGGLE_IS_FOLLOWING",Q={users:[],totalUsersCount:1,pageSize:10,portionSize:20,currentPortion:1,currentPage:1,isFetching:!1,followingInProgress:[]},Y=function(e,t){return{type:J,followed:!e,userId:t}},Z=function(e,t){return{type:B,users:e,totalUsersCount:t}},$=function(e){return{type:X,portionNumber:e}},ee=function(e){return{type:W,isFetching:e}},te=function(e,t){return{type:K,isFollowing:e,userId:t}},ne=function(){var e=Object(A.a)(C.a.mark((function e(t,n,a,r){var o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(a);case 2:o=e.sent,t(te(!1,a)),0===o.resultCode&&t(Y(n,a));case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ae=n(33),re=n(17),oe=n(61),ie=Object(oe.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),se=function(e){return e.usersPage.pageSize},ce=function(e){return e.usersPage.portionSize},ue=function(e){return e.usersPage.currentPage},le=function(e){return e.usersPage.currentPortion},fe=function(e){return e.usersPage.totalUsersCount},me=function(e){return e.usersPage.isFetching},pe=function(e){return e.usersPage.followingInProgress},de=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changePage=function(t,n){var a=e.props,r=a.pageSize;(0,a.requestUsers)(t,r,n)},e.changePortion=function(t){(0,e.props.setCurrentPortion)(t)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.users,n=e.requestUsers,a=e.currentPage,r=e.pageSize;0===t.length&&n(a,r)}},{key:"render",value:function(){return r.a.createElement(x,Object.assign({changePage:this.changePage,changePortion:this.changePortion},this.props))}}]),n}(r.a.Component),ge={toggleIsFollowing:te,requestUsers:function(e,t,n){return function(){var a=Object(A.a)(C.a.mark((function a(r){var o,i,s;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r($(n)),r({type:V,page:e}),r(ee(!0)),a.next=5,L.getUsers(e,t);case 5:o=a.sent,r(ee(!1)),i=o.items,s=o.totalCount,r(Z(i,s));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},follow:function(e,t){return function(n){var a=L.follow.bind(void 0);ne(n,e,t,a)}},unfollow:function(e,t){return function(n){var a=L.unfollow.bind(void 0);ne(n,e,t,a)}},setCurrentPortion:$},be=Object(re.d)(Object(m.b)((function(e){return{users:ie(e),pageSize:se(e),portionSize:ce(e),totalUsersCount:fe(e),currentPage:ue(e),currentPortion:le(e),isFetching:me(e),followingInProgress:pe(e),isAuth:e.auth.isAuth}}),ge),ae.a)(de),_e=n(21),ve=n.n(_e),he=n(62),Ee=n.n(he),we=n(63),Oe=n.n(we),Pe=function(e){var t=e.profileStatus,n=e.putProfileStatus,o=Object(a.useState)(!1),i=Object(k.a)(o,2),s=i[0],c=i[1],u=Object(a.useState)(t),l=Object(k.a)(u,2),f=l[0],m=l[1];Object(a.useEffect)((function(){m(t)}),[t]);var p=function(){c(!s)};return r.a.createElement("div",{className:Oe.a.status},s?r.a.createElement("input",{autoFocus:!0,type:"text",onBlur:function(){p(),f!==t&&n(f)},onChange:function(e){var t=e.target.value;m(t)},value:f}):r.a.createElement("span",{onDoubleClick:p},t||"status"))},je=function(e){var t=e.userProfile,n=e.profileStatus,a=e.putProfileStatus;return t?r.a.createElement("div",{className:ve.a.user_info+" wrap"},r.a.createElement("div",{className:ve.a.main_info},r.a.createElement("div",{className:ve.a.fullname},r.a.createElement("h3",null,t.fullName)),r.a.createElement("div",{className:ve.a.avatar},r.a.createElement("img",{src:t.photos.large?t.photos.large:h.a,alt:""})),r.a.createElement("div",{className:ve.a.about},t.aboutMe),r.a.createElement(Pe,{profileStatus:n,putProfileStatus:a})),r.a.createElement("div",{className:ve.a.sub_info},t.lookingForAJob&&r.a.createElement("img",{src:Ee.a,alt:""}),t.lookingForAJob&&t.lookingForAJobDescription&&r.a.createElement("div",null,t.lookingForAJobDescription)),r.a.createElement("div",{className:ve.a.contacts},r.a.createElement("h4",null,"\u041c\u043e\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),t.contacts.vk&&r.a.createElement("div",null,"vk: ",t.contacts.vk),t.contacts.website&&r.a.createElement("div",null,"website: ",t.contacts.website),t.contacts.facebook&&r.a.createElement("div",null,"facebook: ",t.contacts.facebook),t.contacts.twitter&&r.a.createElement("div",null,"twitter: ",t.contacts.twitter),t.contacts.instagram&&r.a.createElement("div",null,"instagram: ",t.contacts.instagram),t.contacts.youtube&&r.a.createElement("div",null,"youtube: ",t.contacts.youtube),t.contacts.github&&r.a.createElement("div",null,"github: ",t.contacts.github),t.contacts.mainLink&&r.a.createElement("div",null,"mainLink: ",t.contacts.mainLink))):r.a.createElement(j,null)},ke=n(64),Se=n.n(ke),ye=n(35),Ie=n.n(ye),xe=function(e){var t=e.avatar,n=e.message;return r.a.createElement("div",{className:"".concat(Ie.a.item," wrap")},r.a.createElement("div",{className:Ie.a.avatar},r.a.createElement("img",{src:t||h.a,alt:""})),r.a.createElement("div",{className:Ie.a.message},n))},Ne=n(42),Ce=n.n(Ne),Ae=n(20),Fe=n(18),De=n(27),Te=function(e){var t=e.addPost;return r.a.createElement(Ae.b,{onSubmit:function(e){e.postMessage&&t(e.postMessage)},render:function(e){var t=e.handleSubmit,n=e.form,a=e.submitting;return r.a.createElement("form",{className:"".concat(Ce.a.form," wrap"),onSubmit:function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:n.reset();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(Ae.a,{name:"postMessage",component:De.b,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0432\u0430\u0448\u0435\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",validate:Object(Fe.a)(Fe.d,Object(Fe.b)(20)),className:Ce.a.input_wrap}),r.a.createElement("button",{onSubmit:n.reset,disabled:a},"Send"))}})},Le=function(e){var t=e.postsData,n=e.addPost,a=t.map((function(e){return r.a.createElement(xe,{key:e.id,message:e.message,avatar:e.avatar,likesCount:e.likesCount})}));return r.a.createElement("div",{className:Se.a.posts},r.a.createElement(Te,{addPost:n}),a)},Ue="social_network/profile/ADD_POST",Me="social_network/profile/UPDATE_NEW_POST_TEXT",Ge="social_network/profile/SET_USER_PROFILE",Re="social_network/profile/SET_PROFILE_STATUS",ze="social_network/profile/DELETE_POST",He={postsData:[{id:1,message:"Hi bro, its my first post!! How are u?",likesCount:2,avatar:"https://www.meme-arsenal.com/memes/b5d2ec8e1ffa887b239fb66a8653dfe6.jpg"},{id:2,message:"Hi and me too! I'm ok!",likesCount:1,avatar:"https://s3.amazonaws.com/liberty-uploads/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg"}],newPostText:"",userProfile:null,isFetching:!1,profileStatus:""},qe=function(e){return{type:"social_network/profile/TOGGLE_IS_FETCHING",isFetching:e}},Je=function(e){return{type:Re,profileStatus:e}},Be=function(e){return function(){var t=Object(A.a)(C.a.mark((function t(n){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(qe(!0)),t.next=3,U(e);case 3:a=t.sent,n(qe(!1)),n({type:Ge,profileData:a});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ve={addPost:function(e){return{type:Ue,postMessage:e}}},Xe=Object(m.b)((function(e){return{postsData:e.profilePage.postsData}}),Ve)(Le),We=function(e){var t=e.isFetching,n=e.userProfile,a=e.profileStatus,o=e.putProfileStatus;return r.a.createElement("section",null,t?r.a.createElement(j,null):r.a.createElement(je,{userProfile:n,profileStatus:a,putProfileStatus:o}),r.a.createElement(Xe,null))},Ke=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.userData,n=e.match,a=e.userProfile,r=e.getProfile,o=e.getProfileStatus;if(null!==t){var i=n.params.userId?n.params.userId:t.id;a&&a.userId===i||(r(i),o(i))}}},{key:"render",value:function(){return r.a.createElement(We,this.props)}}]),n}(r.a.Component),Qe={getProfile:Be,getProfileStatus:function(e){return function(){var t=Object(A.a)(C.a.mark((function t(n){var a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:a=t.sent,n(Je(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},putProfileStatus:function(e){return function(){var t=Object(A.a)(C.a.mark((function t(n){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e);case 2:t.sent.resultCode||n(Je(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Ye=Object(re.d)(Object(m.b)((function(e){return{userProfile:e.profilePage.userProfile,userData:e.auth.data,isFetching:e.profilePage.isFetching,profileStatus:e.profilePage.profileStatus,isAuth:e.auth.isAuth}}),Qe),f.f,ae.a)(Ke),Ze=n(65),$e=n.n(Ze),et=n(26),tt=n.n(et),nt=function(e){var t=e.isFetching,n=e.isAuth,a=e.userProfile,o=e.userData,i=e.authLogOut;return r.a.createElement("header",{className:"".concat(tt.a.header," wrap")},r.a.createElement("div",{className:tt.a.info_block},r.a.createElement("img",{src:$e.a,alt:""}),r.a.createElement("div",{className:tt.a.title},"Social Network")),t?r.a.createElement(j,null):r.a.createElement("div",{className:tt.a.login_block},n?r.a.createElement("div",{className:tt.a.user_info},r.a.createElement("span",null,o.login),a&&r.a.createElement("img",{src:a.photos.small?a.photos.small:h.a,alt:""}),r.a.createElement("button",{onClick:i},"Log Out")):r.a.createElement(E.b,{to:"/login"},"LogIn")))},at="social_network/auth/SET_USER_DATA",rt="social_network/auth/SET_ERROR",ot={resultCode:null,messages:null,data:null,isFetching:!1,isAuth:!1,error:null},it=function(e,t,n,a){return{type:at,userData:e,resultCode:t,messages:n,isAuth:a}},st=function(e){return{type:"social_network/auth/TOGGLE_IS_FETCHING",isFetching:e}},ct=function(e){return{type:rt,error:e}},ut=function(){return function(){var e=Object(A.a)(C.a.mark((function e(t){var n,a,r,o,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(st(!0)),e.next=3,R();case 3:n=e.sent,t(st(!1)),a=n.data,r=a.data,o=a.resultCode,i=a.messages,0===o&&(t(it(r,o,i,!0)),Be(r.id));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},lt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(nt,this.props)}}]),n}(r.a.Component),ft={getProfile:Be,authLogOut:function(){return function(){var e=Object(A.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(st(!0)),e.next=3,H();case 3:n=e.sent,t(st(!1)),0===n.data.resultCode&&t(it(null,null,null,!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},mt=Object(m.b)((function(e){return{isFetching:e.auth.isFetching,userData:e.auth.data,isAuth:e.auth.isAuth,userProfile:e.profilePage.userProfile}}),ft)(lt),pt=n(23),dt=n.n(pt),gt=function(e){return r.a.createElement(Ae.b,{onSubmit:e.onSubmit},(function(t){t.submitError;var n=t.handleSubmit,a=(t.pristine,t.form),o=t.submitting,i=(t.values,t.submitSucceeded);t.submitFailed;return r.a.createElement("form",{className:dt.a.login_form,onSubmit:function(){var e=Object(A.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:i&&a.reset();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(Ae.a,{name:"email",placeholder:"E-mail",component:De.a,type:"text",className:dt.a.input_wrap,validate:Fe.d}),r.a.createElement(Ae.a,{name:"password",placeholder:"Password",component:De.a,type:"password",className:dt.a.input_wrap,validate:Object(Fe.a)(Fe.d,Object(Fe.c)(6))}),r.a.createElement("div",null,r.a.createElement(Ae.a,{name:"rememberMe",component:"input",type:"checkbox"}),r.a.createElement("span",null,"Remember me")),e.err&&r.a.createElement("div",{className:dt.a.error},e.err),r.a.createElement("button",{disabled:o},"Login"))}))},bt=function(e){var t="";return e.error&&(t=e.error),e.isAuth?r.a.createElement(f.a,{to:"/profile"}):r.a.createElement("section",{className:dt.a.login_form_wrap},r.a.createElement("div",{className:dt.a.title},r.a.createElement("h2",null,"Log In")),r.a.createElement(gt,{err:t,onSubmit:function(t){if(t){var n=t.email,a=t.password,r=t.rememberMe;e.authLogin(n,a,r)}}}))},_t=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(bt,this.props)}}]),n}(a.Component),vt={authLogin:function(e,t,n){return function(){var a=Object(A.a)(C.a.mark((function a(r){var o,i,s,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(st(!0)),a.next=3,z(e,t,n);case 3:o=a.sent,i=o.data,s=i.resultCode,c=i.messages,r(ct(null)),r(st(!1)),r(0===s?ut():ct(c[0]));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},ht=Object(m.b)((function(e){return{isAuth:e.auth.isAuth,error:e.auth.error}}),vt)(_t),Et="social_network/app/SET_INITIALISED",wt={initialised:null},Ot=n(44),Pt=n.n(Ot),jt=n(36),kt=n.n(jt),St=function(e){var t=e.friends;return r.a.createElement("div",{className:kt.a.friends_wrapper},r.a.createElement("p",null,"Friends"),r.a.createElement("div",{className:kt.a.friends},t.map((function(e){return r.a.createElement("div",{key:e.id,className:kt.a.friend},r.a.createElement("img",{src:e.avatar,alt:""}),r.a.createElement("p",null,e.name))}))))},yt=n(45),It=n.n(yt),xt=function(e){var t=e.menuElem;return r.a.createElement("div",{className:"".concat(It.a.item)},r.a.createElement(E.b,{to:t.link,activeClassName:It.a.active},t.name))},Nt=function(e){var t=e.menu,n=e.friends,a=t.map((function(e){return r.a.createElement(xt,{key:e.id,menuElem:e})}));return r.a.createElement("aside",{className:"".concat(Pt.a.aside," wrap")},r.a.createElement("div",{className:Pt.a.menu},a),r.a.createElement(St,{friends:n}))},Ct=Object(m.b)((function(e){return{menu:e.aside.menu,friends:e.aside.friends}}))(Nt),At=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,102))})),Ft=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initialisedApp()}},{key:"render",value:function(){var e;return this.props.initialised?r.a.createElement("div",{className:"background blur"},r.a.createElement("div",{className:"app_wrapper"},r.a.createElement(mt,null),r.a.createElement(Ct,null),r.a.createElement("main",{className:"wrap main"},r.a.createElement(f.b,{exact:!0,path:"/dialogs",render:(e=At,function(t){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(e,t))})}),r.a.createElement(f.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Ye,null)}}),r.a.createElement(f.b,{exact:!0,path:"/users",render:function(){return r.a.createElement(be,null)}}),r.a.createElement(f.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(ht,null)}})))):r.a.createElement(j,null)}}]),n}(r.a.Component),Dt={initialisedApp:function(){return function(){var e=Object(A.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ut());case 2:t({type:Et,initialised:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Tt=Object(m.b)((function(e){return{initialised:e.app.initialised}}),Dt)(Ft);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Lt=n(56),Ut={id:2,name:"Pasha",avatar:"https://www.meme-arsenal.com/memes/b5d2ec8e1ffa887b239fb66a8653dfe6.jpg",email:"Paul345@mail.ru",description:"Its Pasha"},Mt={id:3,name:"Andrey",avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRvO35OFDvH2fHI947iBUePk-f2MyDsjVr-Tw&usqp=CAU",email:"Andru1488@mail.ru",description:"Its Andrey"},Gt={id:4,name:"Ivan",avatar:"https://i.pinimg.com/originals/0c/a9/e2/0ca9e28dcb12dc698cfd2beda6d6fa64.jpg",email:"Ivaness@mail.ru",description:"Its Ivan"},Rt={friends:[{id:Ut.id,name:Ut.name,avatar:Ut.avatar},{id:Mt.id,name:Mt.name,avatar:Mt.avatar},{id:Gt.id,name:Gt.name,avatar:Gt.avatar}],menu:[{id:1,name:"Profile",link:"/profile"},{id:2,name:"Dialogs",link:"/dialogs"},{id:3,name:"News",link:"/news"},{id:4,name:"Music",link:"/music"},{id:5,name:"Settings",link:"/settings"},{id:6,name:"Users",link:"/users"}]},zt=n(66),Ht=Object(re.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:var n={id:e.postsData[e.postsData.length-1].id+1,message:t.postMessage,likesCount:0,avatar:""};return Object(D.a)(Object(D.a)({},e),{},{postsData:[].concat(Object(F.a)(e.postsData),[n]),newPostText:""});case ze:return Object(D.a)(Object(D.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.id}))});case Me:return Object(D.a)(Object(D.a)({},e),{},{newPostText:t.newText});case Ge:return Object(D.a)(Object(D.a)({},e),{},{userProfile:t.profileData});case"social_network/profile/TOGGLE_IS_FETCHING":return Object(D.a)(Object(D.a)({},e),{},{isFetching:t.isFetching});case Re:return Object(D.a)(Object(D.a)({},e),{},{profileStatus:t.profileStatus});default:return e}},dialogsPage:Lt.a,aside:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(D.a)(Object(D.a)({},e),{},{users:q(e.users,t.userId,"id",{followed:t.followed})});case B:return Object(D.a)(Object(D.a)({},e),{},{users:Object(F.a)(t.users),totalUsersCount:t.totalUsersCount?t.totalUsersCount:e.totalUsersCount});case V:return Object(D.a)(Object(D.a)({},e),{},{currentPage:t.page});case X:return Object(D.a)(Object(D.a)({},e),{},{currentPortion:t.portionNumber});case W:return Object(D.a)(Object(D.a)({},e),{},{isFetching:t.isFetching});case K:return Object(D.a)(Object(D.a)({},e),{},{followingInProgress:t.isFollowing?[].concat(Object(F.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter((function(e){return e!==t.userId}))]});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case at:return Object(D.a)(Object(D.a)({},e),{},{data:t.userData,resultCode:t.resultCode,messages:t.messages,isAuth:t.isAuth});case"social_network/auth/TOGGLE_IS_FETCHING":return Object(D.a)(Object(D.a)({},e),{},{isFetching:t.isFetching});case rt:return Object(D.a)(Object(D.a)({},e),{},{error:t.error});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:return Object(D.a)(Object(D.a)({},e),{},{initialised:t.initialised});default:return e}}}),qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||re.d,Jt=Object(re.e)(Ht,qt(Object(re.a)(zt.a)));i.a.render(r.a.createElement(E.a,null,r.a.createElement(m.a,{store:Jt},r.a.createElement(Tt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.50a2c95a.chunk.js.map